@model IEnumerable<Models.Project>
@inject IConfiguration Configuration
@inject MCan.Services.JsonLocalizationService Localizer
@using System.Globalization

@{
    ViewData["Title"] = Localizer.Get("portfolio.sectionTitle");
    var imageBaseUrl = Configuration["ImageSettings:ImageBaseUrl"];
    var isArabic = CultureInfo.CurrentUICulture.TwoLetterISOLanguageName == "ar";
}

<section id="portfolio" class="portfolio section" @(isArabic ? "dir='rtl'" : "dir='ltr'")>

    <div class="container section-title" data-aos="fade-up">
        <h2>@Localizer.Get("Portfolio")</h2>
        <p>@Localizer.Get("Check our Portfolio")</p>
    </div>

    <div class="container">
        <div class="isotope-layout" data-default-filter="*" data-layout="masonry" data-sort="original-order">

            <div class="row gy-4 isotope-container" data-aos="fade-up" data-aos-delay="200">
                @foreach (var project in Model)
                {
                    var title = isArabic ? project.TitleAr : project.TitleEn;
                    var description = isArabic ? project.DescriptionAr : project.DescriptionEn;

                    <div class="col-lg-4 col-md-6 portfolio-item isotope-item filter-app">
                        <img src="@($"{ViewBag.BaseUrl}/images/{project.ImageUrl}")" class="img-fluid" alt="@title" />
                        @if (isArabic)
                        {
                            <div class="portfolio-info d-flex flex-row align-items-start">
                                <div style="text-align:right; flex:1;">
                                    <h4>@title</h4>
                                    <p>@description</p>
                                </div>

                                <div style="margin-left:10px;">
                                    <a href="@($"{ViewBag.BaseUrl}/images/{project.ImageUrl}")"
                                       title="@title"
                                       data-gallery="portfolio-gallery-app"
                                       class="glightbox preview-link d-flex justify-content-start">
                                        <i class="bi bi-zoom-in"></i>
                                    </a>
                                </div>
                            </div>
                        }


                        else
                        {
                            <div class="portfolio-info" style="text-align:left;">
                                <h4>@title</h4>
                                <p>@description</p>

                                <a href="@($"{ViewBag.BaseUrl}/images/{project.ImageUrl}")"
                                   title="@title"
                                   data-gallery="portfolio-gallery-app"
                                   class="glightbox preview-link"
                                   style="float:right;">
                                    <i class="bi bi-zoom-in"></i>
                                </a>
                            </div>
                        }
                    </div>
                }
            </div>
        </div>
    </div>
</section>
